!function(e,t){"function"==typeof define&&define.amd?define(["canvasclock"],function(n){return e.canvasclock=t(n)}):"object"==typeof exports?module.exports=t(require("canvasclock")):e.canvasclock=t(e.canvasclock)}(this,function(e){var t=this||global,e=(t.canvasclock,function(e){this.name="canvasclock",this.version="${version}",this["default"]={city:"beijing",canvas:null},this.options=this.extend(this["default"],e);var t=this.options.city,n=this.options.canvas,a=this.drawClock;a(t,n),window.requestAnimationFrame(function(){a(t,n)})});return e.getDateByCity=function(t){var n=new e.prototype.WorldDates;return n[t]()},e.nthWeekdayOfMonth=function(e,t,n){var a=new Date(n.getFullYear(),n.getMonth(),1),i=(e-a.getDay()+7)%7+7*(t-1);return a.setDate(1+i),a},e.lastSundayOfMonth=function(e){var t=[31,28,31,30,31,30,31,31,30,31,30,31],n=e.getFullYear();n%4!=0||n%100==0&&n%400!=0||(t[1]=29);var a=new Date(e.getFullYear(),e.getMonth(),t[e.getMonth()]);return a.setDate(a.getDate()-a.getDay()),a},e.prototype={getVersion:function(){return this.version},drawClock:function(t,n){var a=e.getDateByCity(t),i=n.getContext("2d");i.save(),i.clearRect(0,0,150,150),i.translate(75,75),i.scale(.4,.4),i.rotate(-Math.PI/2),i.strokeStyle="black",i.fillStyle="white",i.lineWidth=8,i.lineCap="round",i.save();for(var r=0;12>r;r++)i.beginPath(),i.rotate(Math.PI/6),i.moveTo(100,0),i.lineTo(120,0),i.stroke();for(i.restore(),i.save(),i.lineWidth=5,r=0;60>r;r++)r%5!=0&&(i.beginPath(),i.moveTo(117,0),i.lineTo(120,0),i.stroke()),i.rotate(Math.PI/30);i.restore();var o=a.getSeconds(),s=a.getMinutes(),u=a.getHours();u=u>=12?u-12:u,i.fillStyle="black",i.save(),i.rotate(u*(Math.PI/6)+Math.PI/360*s+Math.PI/21600*o),i.lineWidth=14,i.beginPath(),i.moveTo(-20,0),i.lineTo(80,0),i.stroke(),i.restore(),i.save(),i.rotate(Math.PI/30*s+Math.PI/1800*o),i.lineWidth=10,i.beginPath(),i.moveTo(-28,0),i.lineTo(112,0),i.stroke(),i.restore(),i.save(),i.rotate(o*Math.PI/30),i.strokeStyle="#D40000",i.fillStyle="#D40000",i.lineWidth=6,i.beginPath(),i.moveTo(-30,0),i.lineTo(83,0),i.stroke(),i.beginPath(),i.arc(0,0,10,0,2*Math.PI,!0),i.fill(),i.beginPath(),i.arc(95,0,10,0,2*Math.PI,!0),i.stroke(),i.fillStyle="rgba(0,0,0,0)",i.arc(0,0,3,0,2*Math.PI,!0),i.fill(),i.restore(),i.beginPath(),i.lineWidth=14,i.strokeStyle="#325FA2",i.arc(0,0,142,0,2*Math.PI,!0),i.stroke(),i.restore(),window.requestAnimationFrame(function(){e.prototype.drawClock(t,n)})},WorldDates:function(){return{utc:function(){var e=new Date;return e.setTime(e.getTime()+6e4*e.getTimezoneOffset()),e},beijing:function(){var e=new Date,t=8,n=this.utc();return e.setTime(n.getTime()+36e5*t),e},seoul:function(){var e=new Date,t=9,n=this.utc();return e.setTime(n.getTime()+36e5*t),e},newyork:function(){var t=this.utc(),n=-5,a=new Date,i=e.nthWeekdayOfMonth(0,2,new Date(a.getFullYear(),3,1)),r=e.nthWeekdayOfMonth(11,2,new Date(a.getFullYear(),10,1)),o=t.getTime()+36e5*n;return a.setTime(o>=i.getTime()&&o<=r.getTime()?o+36e5:o),a},vancouver:function(){var t=this.utc(),n=-8,a=new Date,i=e.nthWeekdayOfMonth(0,2,new Date(a.getFullYear(),3,1)),r=e.nthWeekdayOfMonth(11,2,new Date(a.getFullYear(),10,1)),o=t.getTime()+36e5*n;return a.setTime(o>=i.getTime()&&o<=r.getTime()?o+36e5:o),a},tokyo:function(){var e=new Date,t=9,n=this.utc();return e.setTime(n.getTime()+36e5*t),e},moscow:function(){var e=new Date,t=3,n=this.utc();return e.setTime(n.getTime()+36e5*t),e},london:function(){var t=this.utc(),n=0,a=new Date,i=e.lastSundayOfMonth(new Date(a.getFullYear(),2,1)),r=e.lastSundayOfMonth(new Date(a.getFullYear(),9,1)),o=t.getTime()+36e5*n;return a.setTime(o>=i.getTime()&&o<=r.getTime()?o+36e5:o),a},paris:function(){var t=this.utc(),n=1,a=new Date,i=e.lastSundayOfMonth(new Date(a.getFullYear(),2,1)),r=e.lastSundayOfMonth(new Date(a.getFullYear(),9,1)),o=t.getTime()+36e5*n;return a.setTime(o>=i.getTime()&&o<=r.getTime()?o+36e5:o),a},sydney:function(){var e=new Date,t=10,n=this.utc();return e.setTime(n.getTime()+36e5*t),e},sanfrancisco:function(){var t=this.utc(),n=-8,a=new Date,i=e.nthWeekdayOfMonth(0,2,new Date(a.getFullYear(),3,1)),r=e.nthWeekdayOfMonth(11,2,new Date(a.getFullYear(),10,1)),o=t.getTime()+36e5*n;return a.setTime(o>=i.getTime()&&o<=r.getTime()?o+36e5:o),a},dubai:function(){var e=new Date,t=4,n=this.utc();return e.setTime(n.getTime()+36e5*t),e},berlin:function(){var t=this.utc(),n=1,a=new Date,i=e.lastSundayOfMonth(new Date(a.getFullYear(),2,1)),r=e.lastSundayOfMonth(new Date(a.getFullYear(),9,1)),o=t.getTime()+36e5*n;return a.setTime(o>=i.getTime()&&o<=r.getTime()?o+36e5:o),a},toronto:function(){var t=this.utc(),n=-5,a=new Date,i=e.nthWeekdayOfMonth(0,2,new Date(a.getFullYear(),3,1)),r=e.nthWeekdayOfMonth(11,2,new Date(a.getFullYear(),10,1)),o=t.getTime()+36e5*n;return a.setTime(o>=i.getTime()&&o<=r.getTime()?o+36e5:o),a},brazil:function(){var e=new Date,t=-3,n=this.utc();return e.setTime(n.getTime()+36e5*t),e},cairo:function(){var e=new Date,t=2,n=this.utc();return e.setTime(n.getTime()+36e5*t),e},newdelhi:function(){var e=new Date,t=5,n=this.utc();return e.setTime(n.getTime()+36e5*t),e},bangkok:function(){var e=new Date,t=7,n=this.utc();return e.setTime(n.getTime()+36e5*t),e}}},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},e});